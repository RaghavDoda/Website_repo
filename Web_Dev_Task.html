<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="Stylesheet.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<title>Product Catalog</title>
</head>
<body>
	<section class="top py-4 px-3">
		<div>
		<a href="Aboutme.html" id="about-me">About Me</a>
	    </div>
		<div class="px-0"id="bg">
			<div id="symbol">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
					<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
				</svg>
			</div>
			
				<input
					type="text"
					name="searchBar"
					id="searchBar"
					class="py-1 my-1 mx-0 px-1"
					placeholder="Search for a Product here ..."
					oninput="searchProducts(this.value)"
				/>
			
		</div>
	</section>
	<h3 style="margin-left: 50px; margin-top: 20px; text-align: center;">
		&#x2728;Product Listings&#x2728;
	</h3>
	<section id="products" class="bg-light mt-5">
	</section>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
<div class="container-fluid">
	<footer class="footer">
		End...
	</footer>
</div>
<script>
      
	let productData;

	function setProductsInnerHTML(products) {
	  let innerHTMLCode = `		
			<div class="row my-10 align-items-center justify-content-center g-4">`

	  for(let i = 0; i<products.length; i++) {
		if(products[i].rating<4.25 && products[i].rating>4)
			{
					innerHTMLCode = innerHTMLCode.concat(
					`<div class="col-8 col-lg-4 col-xl-4 " >
					<div class="card mx-5" id="${products[i].id}" style="height:31rem; width:20rem; position:relative">
						<div class="card-body " style=" position:relative;">
							<p class="fw-bold">Rating: ${products[i].rating}
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
								<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
								<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
								<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
								<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star" viewBox="0 0 16 16">
								<path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
							</svg>	
							</p>
							<img src="${products[i].thumbnail}" class="card-img-top " style="height:10rem; width:15rem;" >
							<h5 class="card-title">${products[i].title}</h5>
							<p class="card-text">${products[i].description}</p>
							<h3>$${products[i].price}-${products[i].discountPercentage}%</h3>
							<a href="#" class="btn btn-primary " style="position:absolute; bottom:12px; left:85px;">Buy Now</a>
						</div>
					</div>
				</div>`
				) 
			}
		else
			{
					innerHTMLCode = innerHTMLCode.concat(
					`<div class="col-8 col-lg-4 col-xl-4 " >
					<div class="card mx-5" id="${products[i].id}" style="height:31rem; width:20rem; position:relative">
						<div class="card-body " style=" position:relative;">
							<p class="fw-bold">Rating: ${products[i].rating}   
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
								<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
								<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
								<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
								<path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-half" viewBox="0 0 16 16">
								<path d="M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"/>
							</svg>	
							</p>	
							<img src="${products[i].thumbnail}" class="card-img-top" style="height:10rem; width:15rem;" >
							<h5 class="card-title">${products[i].title}</h5>
							<p class="card-text">${products[i].description}</p>
							<h3>$${products[i].price}-${products[i].discountPercentage}%</h3>
							<a href="#" class="btn btn-primary " style="position:absolute; bottom:12px; left:85px;" >Buy Now</a>
						</div>
					</div>
				</div>`
				)
			}		  	
		}	
	  let productsElement = document.getElementById("products")
	  innerHTMLCode = innerHTMLCode.concat(`</div>`)
	  productsElement.innerHTML = innerHTMLCode
	}

	function getData(){
	  fetch("product_dummy_data.json")
	  .then(response => response.json())
	  .then(data => {
		  let innerHTMLCode = ""
		  productData = data.products
		  setProductsInnerHTML(productData)
	  })
	}

	getData()
	
	function searchProducts(searchString) {
	  let products = []
	  for(let i = 0; i<productData.length; i++) {
		  if((productData[i].title).toLowerCase().includes(searchString.toLowerCase())) {
			  products.push(productData[i])
		  }
		  else if((productData[i].title).toLowerCase().includes(searchString.toLowerCase())) {
			  products.push(productData[i])
		  }
		  if((productData[i].brand).toLowerCase().includes(searchString.toLowerCase())) {
			  products.push(productData[i])
		  }
		  else if((productData[i].brand).toLowerCase().includes(searchString.toLowerCase())) {
			  products.push(productData[i])
		  }
		  if((productData[i].category).toLowerCase().includes(searchString.toLowerCase())) {
			  products.push(productData[i])
		  }
		  else if((productData[i].category).toLowerCase().includes(searchString.toLowerCase())) {
			  products.push(productData[i])
		  }
	  }
	  setProductsInnerHTML(products)
	}

</script>
</html>